# 論理パズル解答タスク
# 使用方法: e8 run --config examples/logic-puzzle.yaml
#
# このタスクは「緩いcriteria + 厳しいjudgment」パターンの例です。
# 論理的な推論過程と一意性の証明が要求されるため、複数イテレーションが必要になります。

task: |
  以下の論理パズルを解いてください：

  5人（A, B, C, D, E）が1〜5位の順位を持つ。
  条件：
  1. AはBより上位
  2. CはDより下位
  3. Eは3位ではない
  4. BとDの順位差は2
  5. Cは1位か5位

# criteria は緩め
criteria:
  - "5人全員の順位が提示されている"
  - "各条件との対応が説明されている"

max_iterations: 5

# judgment は厳しく
prompts:
  judgment: |
    以下の観点で厳密に評価してください：

    【解答の検証】
    - 5つの条件すべてを1つずつ代入して検証
    - 1つでも条件を満たさない場合は即座に is_complete=false

    【推論過程の妥当性】
    - 論理の飛躍がないか
    - 「おそらく」「たぶん」などの曖昧な推論は不可
    - 各ステップが前のステップから論理的に導かれているか

    【一意性の証明】
    - 他の解が存在しないことの証明が必要
    - 単に「他にない」ではなく、なぜ他の可能性が排除されるか説明

    【矛盾の発見】
    - 解答に矛盾がある場合、どの条件間で矛盾が生じているか具体的に指摘
    - suggested_next_action で「条件Xと条件Yを再検討せよ」と具体的に指示
